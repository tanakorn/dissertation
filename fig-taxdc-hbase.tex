
\begin{figure}
\bugbox{
%---------------------------------
{\bf \hb{9095}:}
\enumerate{
\item RS successfully OPENED region R,
\item RS notifies ZK that region R is OPENED,
\item ZK continues region R state msg to Master,
\item Master starts processing OPENED msg,
\item Meanwhile RS CLOSED region R (asked by Client),
\item RS notifies ZK that region R is CLOSED,
\item Master asks ZK to delete znode for region R,
\fev{concurrently racing with step 6!},
\item ZK deletes region R's znode,
\item Master never assigns region R to any RS.
\fev{R becomes an orphan!}
}
%---------------------------------
}
\mycaption[Race of HBase's messages to ZooKeeper]{fig-hbase}{Race of HBase's messages to ZooKeeper}{}
%\vten
\end{figure}
