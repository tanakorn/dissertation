

\subsection{Ability of Finding New Bugs}
\label{eval-newbugs}

The previous section was our main focus of evaluation.  In addition to
this, we have integrated \sampro\ to recent stable versions of ZooKeeper
(v3.4.6, released March 2014) and Hadoop (v2.4.0, released April 2014).  In
just hours of deployment, we found \numZkNewBugs\ new ZLE bug involving 2
crashes, 2 reboots, and 52 events, and \numMrNewBugs\ new Hadoop
speculative execution bug involving 2 failures and 32 events.  These two
new bugs are distributed data race bugs.  The ZLE bug causes the ZooKeeper
cluster to create two leaders at the same time.  The Hadoop bug causes a
speculative attempt on a job that is wrongly moved to a scheduled state,
which then leads to an exception and a failed job.  We can
deterministically reproduce the bugs multiple times and we have reported
the bugs to the developers.  Currently, the bugs are still marked as major
and critical, the status is still open, and the resolution is still
unresolved.

\newtext{
We also note that in order to unearth more bugs, a dmck must have several
complete features: workload generators that cover many protocols,
sophisticated perturbations (\eg, message re-ordering, fault injections)
and detailed checks of specification violations.  Further discussions can
be found in our previous work~\cite{Gunawi+11-FateDestini}.  Currently,
\sampro\ focuses on speeding up the perturbation part.  By deploying more
workload generators and specification checks in \sampro, more deep bugs are
likely to be found.  As an illustration, the 94 deep bugs we mentioned in
Section~\ref{mot-deep} originated from various protocols and violated a wide
range of specifications.
}


